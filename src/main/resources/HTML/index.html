<!DOCTYPE html>
<HTML>
	<HEAD>
		<TITLE>Fediverse魚拓</TITLE>

		<LINK REL="stylesheet" HREF="https://cdn.rumia.me/CSS/font.css">
		<LINK REL="stylesheet" HREF="https://cdn.rumia.me/CSS/reset.css">
		<LINK REL="stylesheet" HREF="https://cdn.rumia.me/CSS/DEFAULT.css">
	</HEAD>
	<BODY>
		<CENTER>
			<H1>Fediverse魚拓</H1>
			Fediverseの投稿を魚拓できます。<BR>
			<HR>
			○投稿(Note)を魚拓できます<BR>
			○ユーザー(Person)を魚拓できます<BR>
			○インスタンスのnodeinfoを魚拓できます<BR>
			✗MisskeyとかMastodonで、連合無しで投稿された物は魚拓されません<BR>
			✗禁止済みのインスタンスは魚拓できません<BR>
		</CENTER>

		<HR>
		
		<CENTER>
			<INPUT TYPE="TEXT" ID="REQUEST_INPUT">
			<BUTTON onclick="search(event);">検索</BUTTON>
		</CENTER>
	</BODY>

	<SCRIPT>
		async function search(e) {
			e.target.setAttribute("disabled", "");

			let ajax = await fetch("/api/Search?REQUEST=" + document.getElementById("REQUEST_INPUT").value);
			const result = await ajax.json();
			if (result.STATUS) {
				e.target.removeAttribute("disabled");

				switch (result.TYPE) {
					case "USER": {
						window.location.href = "./user?ID=" + result.ID;
						return;
					}
				}
			} else {
				//エラー
			}
		}
	</SCRIPT>
</HTML>